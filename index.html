<!DOCTYPE html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>J vagy LY</title>
<style>
    @import url(https://fonts.googleapis.com/css2?family=Noto+Colr+Emoji+Glyf);
    body {
        font-family: sans-serif;
        text-align: center;
        margin: 0 20px 20px 20px;
    }
    i {
        display: inline-block;
        border-radius: 2px;
        margin-bottom: -2px;
        font-style: normal;
        background: #fff8;
        visibility: hidden;
    }
    .revealed i {
        visibility: visible;
    }
    #game {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .block {
        background: #dcb;
        font-size: 16px;
        outline: 1px solid #987;
        border-radius: 5px;
        width: fit-content;
        margin-bottom: 1px;
        padding: 5px 10px;
        height: 1em;
        transition: 1s transform;
    }
    .block.bounce-right {
        animation: bounceRight 0.2s;
    }
    .block.bounce-left {
        animation: bounceLeft 0.2s;
    }
    @keyframes bounceRight {
        0%, 100% {
            transform: translateX(0);
            animation-timing-function: ease-out;
        }
        50% {
            transform: translateX(-30px);
            animation-timing-function: ease-in;
        }
    }
    @keyframes bounceLeft {
        0%, 100% {
            transform: translateX(0);
            animation-timing-function: ease-out;
        }
        50% {
            transform: translateX(30px);
            animation-timing-function: ease-in;
        }
    }
    @keyframes bounceUp {
        0%, 50% {
            transform: translateY(0);
            animation-timing-function: ease-out;
        }
        25% {
            transform: translateY(-20px);
            animation-timing-function: ease-in;
        }
    }
    .header {
        color: #987;
        font-weight: bold;
        font-size: 30px;
        display: flex;
        width: 100%;
        justify-content: space-between;
    }
    .header-left { float: right; }
    .header-right { float: right; }
    #score-display {
        color: #987;
        text-align: center;
        font-size: 20px;
        margin: 20px;
    }
    #restart {
        margin-top: 20px;
    }
    .hint {
        color: #987;
        font-size: 10px;
        margin: 10px;
    }
    #player {
        position: absolute;
        left: 0; right: 0; margin: auto;
        font-size: 40px;
        visibility: hidden;
        line-height: 1;
    }
    .bouncing {
        animation: bounceUp 0.3s infinite;
    }
    a {
        color: #987;
    }
    input, label {
        color: #987;
        font-size: 10px;
    }
    input[type=range] {
        zoom: 0.4;
    }
</style>
</head><body>
    <div class="hint">Nyomd a J Ã©s L gombokat, vagy hÃºzd jobbra-balra az ujjad.</div>
    <div class="header"><div>J</div><div>LY</div></div><div>
    <div id="game"></div>
    <button id="restart">ÃšJRA</button>
    <div class="hint">R gombbal ÃºjraindÃ­thatod a jÃ¡tÃ©kot. <a href="https://github.com/darabos/helyesiras/">GitHub</a></div>
    <label><input type="range" value="1" min="0" max="10" step="1" id="sebesseg"></input> SebessÃ©g</label>
    <div id="player">
        <div id="score-display"><span id="score">0</span> pont</div>
        <div id="animal"></div>
    </div>
    <audio id="soundGood" src="sounds/Coin3.ogg"></audio>
    <audio id="soundBad" src="sounds/Hit1.ogg"></audio>
    <audio id="soundEnd" src="sounds/1up3.ogg"></audio>
<script>
sebesseg.value = parseInt(localStorage.getItem('sebesseg') || '1');
const ZOOM = window.innerHeight > window.innerWidth ? 1 : 1.8;
document.body.style.zoom = ZOOM;
function getAnimals(){
    const s = 'ğŸ•ğŸ¶ğŸºğŸ¦ŠğŸ©ğŸˆğŸ±ğŸ†ğŸ…ğŸ¯ğŸ¦ğŸ’ğŸ–ğŸ·ğŸğŸ´ğŸğŸğŸ‘ğŸ—ğŸ¦ğŸ˜ğŸ¼ğŸ¨ğŸªğŸ«ğŸ„ğŸ®ğŸ‚ğŸ»ğŸƒğŸ‡ğŸ°ğŸ¿ğŸ¹ğŸ­ğŸ“ğŸ”ğŸ£ğŸ¤ğŸ¦ƒğŸ¦ğŸ•ŠğŸ¦…ğŸ¦†ğŸ§ğŸ¢ğŸ™ğŸ¦€ğŸ¦ğŸ¦ˆğŸ¬ğŸ³ğŸ‹ğŸŸğŸ ğŸ¡ğŸğŸŠğŸ›ğŸœğŸğŸğŸ¦‹';
    const animals = [];
    // All wide characters.
    for (let i = 0; i < s.length; i += 2) {
        animals.push(s.slice(i, i + 2));
    }
    return animals;
}
const ANIMALS = getAnimals();
const blocks = [];
let next = 0;
let points = 0;
let loss;
function start() {
    for (let i = 0; i < 20; ++i) {
        const b = newBlock();
        blocks.push(b);
    }
    animal.textContent = ANIMALS[Math.floor(Math.random() * ANIMALS.length)];
    player.style.visibility = 'hidden';
    animal.classList.remove('bouncing');
    blocks[0].scrollIntoView({behavior: 'smooth', block: 'nearest'});
}
restart.onclick = () => {
    points = 0;
    for (const b of blocks) {
        b.remove();
    }
    blocks.splice(0);
    next = 0;
    clearInterval(loss);
    loss = undefined;
    start();
};
const ly_words = [];
const j_words = [];
function newBlock() {
    const div = document.createElement('div');
    div.classList.add('block');
    const ly = Math.random() < 0.5;
    const ws = ly ? ly_words : j_words;
    if (ws.length === 0) {
        const WS = ly ? LY_WORDS : J_WORDS
        ws.push(...WS);
    }
    const i = Math.floor(Math.random() * ws.length)
    let w = ws[i].toUpperCase();
    ws.splice(i, 1); // Delete w.
    let g = w;
    const HIDDEN = ['LLY', 'LY', 'JJ', 'J']
    for (const k of HIDDEN) {
        if (w.includes(k)) {
            w = w.replace(k, '<i>LY</i>');
            g = g.replace(k, `<i>${k}</i>`);
            break;
        }
    }
    div.innerHTML = w;
    game.appendChild(div);
    div.dataset.ly = ly.toString();
    div.dataset.revealed = g;
    return div;
}
function push(dir) {
    const kly = dir === 'LY';
    if (next >= blocks.length) return;
    const b = blocks[next];
    const bRect = b.getBoundingClientRect();
    const bw = bRect.width;
    const ww = game.getBoundingClientRect().width;
    animal.style.transform = kly ? 'scaleX(-1)' : 'scaleX(1)';
    if (b.dataset.ly === kly.toString()) {
        b.style.transform = `translateX(${kly?(ww-bw)/2:(bw-ww)/2}px)`;
        b.innerHTML = b.dataset.revealed;
        b.classList.add('revealed');
        player.style.visibility = 'visible';
        next += 1;
        points += 10;
        if (next < blocks.length) {
            blocks[next].scrollIntoView({behavior: 'smooth', block: 'nearest'});
            const ph = player.getBoundingClientRect().height;
            player.style.top = (bRect.bottom + window.scrollY/ZOOM - ph) + 'px';
            try { soundGood.play(); } catch (e) {}
        } else {
            clearInterval(loss);
            try { soundEnd.play(); } catch (e) {}
            player.style.removeProperty('transform');
            animal.classList.add('bouncing');
            restart.scrollIntoView({behavior: 'smooth', block: 'nearest'});
        }
    } else {
        const cls = kly ? 'bounce-left' : 'bounce-right';
        b.classList.remove(cls);
        b.offsetWidth;
        b.classList.add(cls);
        points -= 20;
        try { soundBad.play(); } catch (e) {}
        document.body.style.backgroundColor = 'red';
        setTimeout(() => document.body.style.backgroundColor = '', 100);
    }
    score.innerHTML = points;
    if (!loss & sebesseg.value > 0) {
        loss = setInterval(lossFunc, 1000 / sebesseg.value);
    }
};
function lossFunc() {
    points -= 1;
    score.innerHTML = points;
}
sebesseg.onchange = () => {
    clearInterval(loss);
    loss = undefined;
    localStorage.setItem('sebesseg', sebesseg.value);
};
document.onkeypress = e => {
    if (e.code === 'KeyJ') push('J');
    if (e.code === 'KeyL') push('LY');
    if (e.code === 'KeyR') restart.click();
}
document.onkeydown = e => {
    if (e.code === 'ArrowLeft') push('J');
    if (e.code === 'ArrowRight') push('LY');
}
let touchstartX = 0;
document.ontouchstart = e => {
    touchstartX = e.changedTouches[0].screenX;
};
document.ontouchend = e => {
  const touchendX = e.changedTouches[0].screenX;
  const THRESHOLD = 50;
  if (touchendX < touchstartX - THRESHOLD) push('J');
  if (touchendX > touchstartX + THRESHOLD) push('LY');
};

const LY_WORDS = `
ahelyett
akadÃ¡ly
amely
amelyik
amilyen
apÃ¡ly
aszÃ¡ly
Ã¡tkelÅ‘hely
bagoly
bÃ¡rmely
bÃ¡rmelyik
bÃ¡rmilyen
bÃ©lyeg
bivaly
boglya
boly
bolygÃ³
bolyong
borbÃ©ly
cikkely
csÃ¡klya
csekÃ©ly
csigolya
csuklya
dagÃ¡ly
datolya
derelye
dÃ¶lyf
egyfolytÃ¡ban
elsÅ‘segÃ©ly
Ã©melyeg
engedÃ©ly
ereklye
erÃ©lyes
esÃ©ly
estÃ©ly
esztergÃ¡lyos
Ã©vfolyam
fÃ¡klya
fekhely
fogoly
folyadÃ©k
folyam
folyamat
folyamatos
folyÃ¡s
folyÃ©kony
folyik
folyÃ³
folyÃ³irat
folyosÃ³
folyÃ³vÃ­z
folytat
folyton
furulya
gally
gÃ¡lya
gereblye
gerely
Gergely
gÃ³lya
golyÃ³
gomblyuk
gombolyag
gombolyÃ­t
gÃ¶mbÃ¶lyÅ±
gomolya
gomolyog
gÃ¶rkorcsolya
gulya
gulyÃ¡s
harkÃ¡ly
hely
helyes
helyesÃ­rÃ¡s
helyette
helyez
helyezÃ©s
helyisÃ©g
helysÃ©g
helyszÃ­n
helytÃ¡ll
helytelen
helyzet
hÃ³golyÃ³zik
hÃ³lyag
homÃ¡lyos
hÃ¶mpÃ¶lyÃ¶g
hÃ³pehely
hÃ¼lyesÃ©g
hÃ¼velyk
ibolya
ily
ilyen
ilyenkor
ilyesmi
ilyet
ispotÃ¡ly
kÃ¡lyha
KÃ¡roly
kastÃ©ly
kedÃ©ly
keselyÅ±
kÃ©tely
kevÃ©ly
kirÃ¡ly
kirÃ¡lyasszony
kirÃ¡lynÅ‘
kÃ¶lykÃ¶k
kÃ¶lyÃ¶k
komoly
komolyan
korcsolya
kristÃ¡ly
kulcslyuk
lefolyÃ³
lyuk
lyukas
lyukasztÃ³
mely
mÃ©ly
melyik
mÃ©lysÃ©g
MihÃ¡ly
milyen
moly
mosoly
mosolyog
mÅ±hely
nyavalya
nyavalyog
oly
olyan
olyasmi
olyat
olykor
Ã¶lyv
osztÃ¡ly
pÃ¡holy
pÃ¡lya
pÃ¡lyÃ¡zat
paszuly
pehely
pelyhedzik
persely
petrezselyem
pisztoly
pocsolya
pÃ³lya
pulyka
segÃ©ly
sekÃ©ly
selyem
selymes
selypÃ­t
semmilyen
seregÃ©ly
sikoly
sirÃ¡ly
sÃ³lyom
sompolyog
sÃ¼llyed
sÃºly
sÃºlyos
sÃºlyzÃ³
szabÃ¡ly
szabÃ¡lyos
szegÃ©ly
szemÃ©ly
szemÃ©lyes
szenvedÃ©ly
szeszÃ©lyes
szÃ­vÃ©lyes
tavaly
tÃ©bolyÃ­tÃ³
tÃ©gely
tengely
tÃ©velyeg
tÃ¶kÃ©ly
tÃºlsÃºly
tÅ±zhely
ugyanolyan
Ã¼nnepÃ©ly
uszÃ¡ly
valamelyik
valamilyen
vÃ¡lyog
vÃ¡lyÃº
veszÃ©ly
veszÃ©lyes
vÃ©szhelyzet
vÅ‘fÃ©ly
zsÃ¡lya
zsÃ¡moly
zsindely
`.trim().split('\n');
const J_WORDS = `
ajak
ajÃ¡ndÃ©k
ajÃ¡nl
ajÃ¡nlat
ajtÃ³
Ã¡jul
akarjuk
alapjÃ¡n
alj
aludj
anyja
baj
bÃ¡j
bajnok
bajom
bajonett
bÃ¡jos
bajusz
bÃ¡rmifajta
bÃ¡tyja
bejÃ¶n
bÃ³ja
bojÃ¡r
bojkott
bojler
bojt
bojtÃ¡r
borjÃº
bÃºjik
csaj
csajka
cserje
dajka
dÃ­j
Ã©gtÃ¡j
egyfajta
Ã©jfÃ©l
Ã©jjel
Ã©jszaka
ejt
ejtÅ‘ernyÅ‘
eleje
elÃ©je
Ã©ljen
eljÃ¶n
ereje
erjesztÅ‘gomba
fahÃ©j
faj
fÃ¡j
fÃ¡jdalom
fajta
fej
fejedelem
fejel
fejfa
fejlÃ©c
fejlÅ‘dÃ©s
fejÅ‘
fejszÃ¡molÃ³
fejsze
fejt
fejtett
felejt
fÃ©rj
fogjuk
fojtott
fÃ¶ldrajz
fÃ¶lÃ©je
fÃºj
fÃ¼rj
gÃ©pjÃ¡rmÅ±
gerjed
gyapjÃº
gyÃºjt
gyÅ±jt
gyÅ±jtemÃ©ny
haj
hÃ¡j
hajadon
hajdan
hajdÃº
hajÃ­t
hajlakk
hajlam
hajlik
hajnal
Hajnalka
hajÃ³
hajrÃ¡
hajt
hajtÃ¡s
hÃ¡ztÃ¡ji
hÃ©j
hÃ©ja
hÃ³nalj
ideje
idÅ‘jÃ¡rÃ¡s
ifjÃº
Ã­j
Ã­jÃ¡sz
ijed
ijedsÃ©g
ijeszt
injekciÃ³
Ã­rÃ¡sjel
jÃ¡cint
jaguÃ¡r
jajdul
jajgat
jÃ¡mbor
januÃ¡r
japÃ¡n
jÃ¡r
jÃ¡rmÅ±
jÃ¡rvÃ¡ny
jÃ¡tÃ©k
jÃ¡tszik
javaslat
javÃ­t
jÃ©g
jegy
jel
jelen
jeles
jellegzetes
jellem
jelvÃ©ny
jelzÅ‘
jenÅ‘
jÃ©rce
jÃ³
jobb
jog
jÃ³ga
joghurt
jÃ³kor
jÃ³kora
jÃ³lelkÅ±
jÃ¶n
JÃ³nÃ¡s
jÃ³sol
jÃ³szÃ¡g
jÃ¶vedelem
jÃ¶vÅ‘
jubileum
juh
juhar
juhÃ¡sz
JÃºlia
jÃºlius
jÃºnius
jut
jutalom
kaja
kajak
kajla
karaj
kifejezÃ©s
kombÃ¡jn
kurjant
lÃ¡bujj
lajhÃ¡r
lajos
Lajos
lejjebb
lejtÅ‘
lÅ‘j
Lujza
mÃ¡j
Maja
mÃ¡jas
majdan
majdcsak
majdnem
majom
mÃ¡jus
mÃ¡jusfa
mÃ©hraj
muszÃ¡j
nefelejcs
neje
nejlon
nÃ©nje
nyÃ¡j
nyÃºjt
nyÃºjtÃ³zik
nyÃºlj
Ã³haj
Ã³hajtÃ³
olaj
pajkos
pajta
pajtÃ¡s
pajzs
papagÃ¡j
paraj
raj
rajong
rajt
rajta
rÃ¡juk
rajz
rejt
rejtvÃ©ny
ricsaj
rÃ¶hej
sajÃ¡t
sajnÃ¡l
sajnos
sajog
sajt
sajtÃ³
sarj
sarjad
sejt
selejt
sÃ³haj
spÃ¡jz
sÃºjt
SvÃ¡jc
szÃ¡j
szÃ©jjelnÃ©z
szÃ­j
szilaj
szomjas
tagja
tÃ¡j
tÃ¡jÃ©kozÃ³dÃ¡s
tajtÃ©kzik
talaj
tej
tejfÃ¶l
tejÃºt
teljes
teljesÃ­t
teljesÃ­tmÃ©ny
terjedelem
terjeszt
teteje
tojÃ¡s
Tokaj
tolvaj
tuja
tulajdon
Ãºj
ÃºjdonsÃ¡g
ÃºjÃ©v
ÃºjÃ­tÃ³
ujj
Ãºjra
ÃºjsÃ¡g
vaj
vÃ¡j
vÃ¡jat
vajda
vajon
valÃ³jÃ¡ban
varjÃº
verejtÃ©k
zaj
zajongÃ³
zsivaj
`.trim().split('\n');
start();
</script>
